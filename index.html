<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toolkit Pro - æ™ºèƒ½å·¥å…·é›†</title>
    <link rel="stylesheet" href="/XiongPeiWeb/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="nav-bar">
        <div class="nav-content">
            <span class="logo">ç†ŠåŸ¹</span>
            <div class="nav-links">
                <a href="#" class="nav-item active">ä¸»é¡µ</a>
                <a href="#" class="nav-item">å·¥å…·é›†</a>
                <a href="#" class="nav-item">æ–‡æ¡£</a>
            </div>
            <div class="ink-divider"></div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="container">
        <!-- æ ‡é¢˜åŒº -->
        <section class="hero-section">
            <h1 class="hero-title">æ‚¨çš„æ™ºèƒ½å·¥å…·ä¸­å¿ƒ</h1>
            <p class="hero-subtitle">é›†æˆé«˜æ•ˆå·¥å…·ï¼Œæå‡å·¥ä½œæµç¨‹</p>
        </section>

        <!-- å·¥å…·å±•ç¤ºåŒº -->
        <div class="tools-grid">
            <!-- å·¥å…·å¡ç‰‡ç¤ºä¾‹ -->
            <article class="tool-card">
                <div class="ink-wash-container">
                    <div class="ink-wash"></div>
                    <div class="tool-icon">ğŸ“Š</div>
                    <h3 class="tool-title">æ•°æ®åˆ†æå·¥å…·</h3>
                    <p class="tool-desc">å¯è§†åŒ–æ•°æ®æ´å¯Ÿä¸å®æ—¶åˆ†æ</p>
                    <button class="tool-button">ç«‹å³ä½¿ç”¨</button>
                </div>
            </article>

            <!-- ç…§ç‰‡ä¸Šä¼ å·¥å…· -->
            <article class="tool-card ink-upload-card">
                <div class="ink-wash-container">
                    <div class="ink-wash"></div>
                    <div class="tool-icon">ğŸ“·</div>
                    <h3 class="tool-title">ç…§ç‰‡ç®¡ç†å·¥å…·</h3>
                    <p class="tool-desc">ä¸Šä¼ å¹¶ç®¡ç†æ‚¨çš„æ‘„å½±ä½œå“</p>
                    <div class="upload-container">
                        <div class="drop-zone" id="dropZone">
                            <span>æ‹–æ”¾ç…§ç‰‡è‡³æ­¤æˆ–ç‚¹å‡»é€‰æ‹©</span>
                            <input type="file" id="fileInput" accept="image/*" multiple hidden>
                        </div>
                        <div id="previewGrid" class="preview-grid"></div>
                    </div>
                </div>
            </article>
            <!-- å…¶ä»–å·¥å…·å¡ç‰‡ç»“æ„ç›¸åŒ... -->
        </div>
    </main>
</body>
</html>
<script>
// ç…§ç‰‡ä¸Šä¼ åŠŸèƒ½
const dropZone = document.getElementById('dropZone');
const fileInput = document.getElementById('fileInput');
const previewGrid = document.getElementById('previewGrid');

// åˆå§‹åŒ–æœ¬åœ°å­˜å‚¨æ•°æ®
let photoMetadata = JSON.parse(localStorage.getItem('photos')) || [];

// æ‹–æ”¾äº‹ä»¶å¤„ç†
dropZone.addEventListener('click', () => fileInput.click());
dropZone.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropZone.classList.add('drag-active');
});

dropZone.addEventListener('dragleave', () => {
    dropZone.classList.remove('drag-active');
});

// æ–‡ä»¶å¤„ç†å‡½æ•°
const handleFiles = (files) => {
    Array.from(files).forEach(file => {
        if (!file.type.startsWith('image/')) return;

        // ç”Ÿæˆé¢„è§ˆ
        const reader = new FileReader();
        reader.onload = (e) => {
            const img = document.createElement('img');
            img.src = e.target.result;
            img.classList.add('preview-thumbnail');
            previewGrid.appendChild(img);

            // å­˜å‚¨å…ƒæ•°æ®
            photoMetadata.push({
                name: file.name,
                size: file.size,
                type: file.type,
                lastModified: file.lastModified,
                preview: e.target.result
            });
            localStorage.setItem('photos', JSON.stringify(photoMetadata));
        };
        reader.readAsDataURL(file);
    });
};

// äº‹ä»¶ç›‘å¬
fileInput.addEventListener('change', (e) => handleFiles(e.target.files));

dropZone.addEventListener('drop', (e) => {
    e.preventDefault();
    dropZone.classList.remove('drag-active');
    handleFiles(e.dataTransfer.files);
});

// åˆå§‹åŒ–æ—¶åŠ è½½å·²æœ‰ç…§ç‰‡
window.addEventListener('load', () => {
    photoMetadata.forEach(photo => {
        const img = document.createElement('img');
        img.src = photo.preview;
        img.classList.add('preview-thumbnail');
        previewGrid.appendChild(img);
    });
});
</script>